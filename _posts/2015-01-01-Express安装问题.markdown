---
layout: post
title:  "Express安装问题"
date:   2015-01-01 +0800
categories: development
---
之前遇到过安装完express后出现`express command not found`的情况，经过以下尝试解决了这个问题，索性就放在这吧。

PATH用于配置执行文件的路径，当输入一个命令的时候，会按照目录的先后顺序查找，找到后执行这个命令。 一般PATH会有多个目录，以冒号分隔。

在配置PATH的时候要确认Node安装的位置，找到bin文件夹，把他放在PATH最前面，如`/usr/local/bin`。

require全局模块的时候会用到NODE_PATH，会在配置的目录下搜索模块。

NODE_PATH的配置一般都是相对于bin目录的，如`/usr/local/lib/node_modules`。

如果你的node文件为`/usr/local/bin/node`，那
`export PATH=/usr/local/bin:$PATH`

`export NODE_PATH=/usr/local/lib/node_modules`

`npm prefix`

有时你会发现npm的安装目录和NODE_PATH不是同一个。npm install会安装到`/usr/local/share/npm/lib/node_modules`,但NODE_PATH为`/usr/local/lib/node_modules`。

这是因为你设置了prefix（可能是编译的时候加的）为`/usr/local/share/npm`

查看prefix

`npm config get prefix`

修改prefix

`npm config set prefix /usr/local`